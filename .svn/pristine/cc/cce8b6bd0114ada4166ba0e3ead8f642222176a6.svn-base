<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
		<title>收银员报表</title>
		<!--<link rel="stylesheet" type="text/css" href="css/font-awesome.min.css" />-->
		<link rel="stylesheet" href="../fonts/iconfont.css" />
		<link rel="stylesheet" href="../css/bootstrap.min.css" />
		<link rel="stylesheet" href="../css/bootstrap-datetimepicker.min.css" />
		<link rel="stylesheet" href="../css/reset.css" />
		<link rel="stylesheet" type="text/css" href="../css/common.css" />
		<link rel="stylesheet" href="../css/menu.css" />
		<link rel="stylesheet" href="../css/report.css" />
	</head>

	<body>
		<header class="header">
			<a href="javascript:void(0);" class="back col-xs-1 no-padding" onclick="javascript:history.back(-1);">
				<i class="iconfont icon-fanhui"></i> 返回
			</a>
			<div>
				收银员报表
			</div>
			<div class="nav">
				<span class="nav-item">打印</span>
			</div>
		</header>
		<div class="report-wrapper">
			<div class="report-header clearfloat">
					<ul class="col-sm-12">
						<li class="col-sm-6 input-group form-horizontal clearfloat">
							<label for="" class="col-sm-2 control-label date-label">日&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;期：</label>
							<div class="col-sm-10 form-group calendar-panel ">
								<div class="col-sm-5 start-date  date no-padding clearfloat" id="datetimepicker" data-date="" data-date-format="dd-mm-yyyy">
									<input class="span2 form-control" type="text" value="" readonly="readonly">
									<span class="add-on"><i class="icon-th iconfont icon-rili1"></i></span>
								</div>
								<span class="col-sm-2">至</span>
								<div class="col-sm-5 end-date  date  no-padding">
									<input class="span2 form-control" type="text" value="" readonly="readonly">
									<span class="add-on"><i class="icon-th iconfont icon-rili1"></i></span>
								</div>
							</div>
						</li>
						<li class="col-sm-4 input-group clearfloat">
							<label for="" class="col-sm-4  control-label">收银员：</label>
							<div class="col-sm-8 ">
								<select name=""class="form-control">
									<option value="">啊啊啊</option>
									<option value="">来来来</option>
								</select>
							</div>
							
						</li>
						<li class="input-group">
							<span class="btn sm-round-btn input-sm">查询</span>
						</li>
					</ul>
			</div>
			<div class="report-container col-sm-12 no-padding clearfloat">
				<div class="col-sm-4  no-padding bills-column">
					<div class="column-title clearfloat">
						<span class="col-sm-5">营业收入</span>
						<span class="col-sm-3">数量</span>
						<span class="col-sm-4">金额</span>
					</div>
					<div class="column-content">
						<ul class="clearfloat">
							<li class="col-sm-12 no-padding">
								<span class="col-sm-5">食品</span>
								<span class="col-sm-3">25</span>
								<span class="col-sm-4">227.00</span>
							</li>
							<li class="col-sm-12 no-padding">
								<span class="col-sm-5">酒水饮料</span>
								<span class="col-sm-3">25</span>
								<span class="col-sm-4">227.00</span>
							</li>
						</ul>
					</div>
					<div class="column-paging clearfloat">
						<span class="col-sm-6 prev-btn col-xs-6"onclick="prevPage(this)">上一页</span>
						<span class="col-sm-6 next-btn col-xs-6"onclick="nextPage(this)">下一页</span>
					</div>
					<div class="column-footer">合计：30.00</div>
				</div>
				<div class="col-sm-4  no-padding bills-column">
					<div class="column-title clearfloat">
						<span class="col-sm-5">营业优免</span>
						<span class="col-sm-3">数量</span>
						<span class="col-sm-4">金额</span>
					</div>
					<div class="column-content">
						<ul class="clearfloat">
							<li class="col-sm-12 no-padding">
								<span class="col-sm-5">食品</span>
								<span class="col-sm-3">25</span>
								<span class="col-sm-4">227.00</span>
							</li>
							<li class="col-sm-12 no-padding">
								<span class="col-sm-5">酒水饮料</span>
								<span class="col-sm-3">25</span>
								<span class="col-sm-4">227.00</span>
							</li>
						</ul>
					</div>
					<div class="column-paging clearfloat">
						<span class="col-sm-6 prev-btn col-xs-6"onclick="prevPage(this)">上一页</span>
						<span class="col-sm-6 next-btn col-xs-6"onclick="nextPage(this)">下一页</span>
					</div>
					<div class="column-footer">合计：30.00</div>
				</div>
				<div class="col-sm-4  no-padding bills-column">
					<div class="column-title clearfloat">
						<span class="col-sm-5">其它</span>
						<span class="col-sm-3">数量</span>
						<span class="col-sm-4">金额</span>
					</div>
					<div class="column-content">
						<ul class="clearfloat">
							<li class="col-sm-12 no-padding">
								<span class="col-sm-5">食品</span>
								<span class="col-sm-3">25</span>
								<span class="col-sm-4">227.00</span>
							</li>
							<li class="col-sm-12 no-padding">
								<span class="col-sm-5">酒水饮料</span>
								<span class="col-sm-3">25</span>
								<span class="col-sm-4">227.00</span>
							</li>
						</ul>
					</div>
					<div class="column-paging clearfloat">
						<span class="col-sm-6 prev-btn col-xs-6"onclick="prevPage(this)">上一页</span>
						<span class="col-sm-6 next-btn col-xs-6"onclick="nextPage(this)">下一页</span>
					</div>
					<div class="column-footer">合计：30.00</div>
				</div>
			</div>
		</div>
		<footer id="footer"class="footer">
		</footer>
		<!--弹窗-->
		<!--确认反结算-->
		<div class="modal fade" id="overringModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title" id="myModalLabel">确认反结算？</h4>
					</div>
					<div class="modal-body  clearfloat">
						<div class="overring-container">
							<span class="reason-btn active">支付问题？<i class="iconfont icon-gou"></i></span>
							<span class="reason-btn">菜品问题？</span>
							<span class="reason-btn">其它问题？</span>
							<li class="reason-btn itemempty"></li>
							<li class="reason-btn itemempty"></li>
						</div>
					</div>
					<div class="modal-footer no-border">
						<button type="button" class="btn ">确定</button>
						<button type="button" class="btn " data-dismiss="modal">退出</button>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script type="text/javascript" src="../js/jquery-3.3.1.min.js"></script>
	<script type="text/javascript" src="../js/index.js"></script>
	<script type="text/javascript" src="../js/bootstrap.min.js"></script>
	<script type="text/javascript" src="../js/bootstrap-datetimepicker.min.js"></script>
	<script type="text/javascript" src="../js/bootstrap-datetimepicker.zh-CN.js"></script>
	<script type="text/javascript" src="../js/bootstrap-datetimepicker.fr.js"></script>
	<script type="text/javascript">
		$(function() {
			var reportContainerHeight=$(".report-wrapper").height()-$(".report-header").height();
			$(".report-container").height(reportContainerHeight);
			btnToggle();
		})
		window.onresize = function() {
			var reportContainerHeight=$(".report-wrapper").height()-$(".report-header").height();
			$(".report-container").height(reportContainerHeight);
			btnToggle();
		}
		function btnToggle() {
//			debugger;
			var minHeight = $(".column-content").eq(0).height();
			var allUl = $(".column-content ul");//实际的ul
			for(var i = 0; i < allUl.length; i++) {
				var curBox = $(".column-content").eq(i);
				var translateHeight = curBox.height();
				var index = Math.ceil(curBox.scrollTop() / translateHeight);
				var totalHeight = curBox.find("ul").height();
				var maxIndex = Math.ceil(totalHeight / translateHeight);
				if(allUl.eq(i).height() <= minHeight) {
					$(".column-paging").eq(i).css("visibility", "hidden");
				} else {
					$(".column-paging").eq(i).css("visibility", "visible");
					if(index == maxIndex - 1){
						$(".column-paging").eq(i).find(".next-btn").addClass("btn-grey");
					}else if(index == 0){
						$(".column-paging").eq(i).find(".prev-btn").addClass("btn-grey");
					}else{
						$(".column-paging").eq(i).find(".next-btn").removeClass("btn-grey");
						$(".column-paging").eq(i).find(".prev-btn").removeClass("btn-grey");
					}
				}
			}
		}
		function nextPage(_this) {
				var curBox = $(_this).parents(".column-paging").prev(".column-content");
				var translateHeight = curBox.height();
				var index = Math.ceil(curBox.scrollTop() / translateHeight);
				var totalHeight = curBox.find("ul").height();
				var maxIndex = Math.ceil(totalHeight / translateHeight);
				if(index == maxIndex - 1) {} else if(index < maxIndex - 1) {
					index++;
					if(index == maxIndex - 1) {
						$(_this).addClass("btn-grey");
					}
					curBox.animate({
						scrollTop: translateHeight * index
					}, 300);
				}
				$(_this).parent(".column-paging").children(".prev-btn").removeClass("btn-grey");
				console.log(index);
			}

			function prevPage(_this) {
				var curBox = $(_this).parents(".column-paging").prev(".column-content");
				var translateHeight = curBox.height();
				var index = Math.ceil(curBox.scrollTop() / translateHeight);
				var totalHeight = curBox.find("ul").height();
				var maxIndex = Math.ceil(totalHeight / translateHeight);
				if(index == 0) {} else if(index >= 1) {
					index--;
					if(index == 0) {
						$(_this).addClass("btn-grey");
					}
					curBox.animate({
						scrollTop: translateHeight * index
					}, 300);
				}
				$(_this).parent(".column-paging").children(".next-btn").removeClass("btn-grey");
			}
	</script>
	<script type="text/javascript">
		$(".overring-container .reason-btn").on("click", function() {
			if(!$(this).hasClass("active")) {
				$(this).siblings(".reason-btn").removeClass("active");
				$(this).siblings(".reason-btn").children("i").remove();
				$(this).addClass("active");
				var html = '<i class="iconfont icon-gou"></i>';
				$(this).append(html);
			}
		})
	</script>
	<script>
		(function($) {
			$(".start-date").datetimepicker({
				language: "zh-CN",
				format: 'yyyy-mm-dd',
				//				todayBtn : 1,
				autoclose: true,
				startView: 2,
				minView: 2,
				pickerPosition: 'bottom-left',
				minuteStep: 5,
				//				startDate:"2018-11-11"
				//				bootcssVer:3
			}).on('changeDate', function(event) {
				event.preventDefault();
				event.stopPropagation();
				var startTime = event.date;
				$(".end-date").datetimepicker('setStartDate', startTime);
				$(".end-date").val("");
			});

			$(".end-date").datetimepicker({
				language: "zh-CN",
				format: 'yyyy-mm-dd',
				autoclose: true,
				startView: 2,
				minView: 2,
				pickerPosition: 'bottom-left',
				//				bootcssVer:2
			}).on('changeDate', function(event) {
				event.preventDefault();
				event.stopPropagation();
				var endTime = event.date;
				$('.start-date').datetimepicker('setEndDate', endTime);
			});
		})(jQuery);
	</script>
</html>